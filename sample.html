<template>
  <div>
    <h1>Test</h1>
    <button @click="handleClickGetAuth">get auth code</button>
    <button @click="handleClickSignIn">signIn</button>
  </div>
</template>

<script>
/** 
* You should first need to place these 2 lines of code in your APP ENTRY file, e.g. src/main.js
*
* import GAuth from 'vue-google-oauth2-gapi'
* Vue.use(GAuth, {clientId: '458494958493-2gqknkvdjfkdfkvb8uja2k65sldsms7qo9.apps.googleusercontent.com'})
* 
*/
export default {
  name: 'test',
  props: [],
  components: {

  },
  data () {
    return {
      
    }
  },
  computed: {

  },

  methods: {
    handleClickGetAuth(){
      this.$gAuth.getAuthCode(function (authCode) {
        //on success
        console.log('authCode', authCode)
        this.$http.post('http://your-backend-server.com/auth/google', { code: authCode, redirect_uri: 'postmessage' }).then(function (response) {

        })
      }, function (error) {
        //on fail do something
      })
    },

    handleClickSignIn(){
      this.$gAuth.signIn(function (user) {
        //on success do something
        console.log('user', user)
      }, function (error) {
        //on fail do something
      })
    }
  },
  mounted(){
    
  }
  
}
</script>
